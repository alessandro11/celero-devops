# Example of the IP reservation template usage.
#
# In this example, an array of reserved IPs is applied to the PROJECTID project.
#
# <FIXME:project_id>: The project ID that created your network.
# <FIXME:region>: The network's region.
# <FIXME:subnet>: The subnetwork ID.
#

imports:
  - path: ip_reservation.py
    name: ip_reservation.py

resources:
  - name: network-blog-app
    type: ip_reservation.py
    properties:
      ipAddresses:
        - name: blog-external
          ipType: REGIONAL
          region: southamerica-east1
          description: 'Static external ip for web server'

        - name: blog-internal
          ipType: INTERNAL
          # This IP address must be within the subnet range.
          address: 10.128.0.100
          subnetwork: projects/env-test-00001/regions/southamerica-east1/subnetworks/blog-app-southamerica-east1
          region: southamerica-east1
          description: 'Static internal ip for web server'

        - name: blog-postgres
          ipType: INTERNAL
          # This IP address must be within the subnet range.
          address: 10.128.0.200
          subnetwork: projects/env-test-00001/regions/southamerica-east1/subnetworks/blog-app-southamerica-east1
          region: southamerica-east1
          description: 'Static internal ip for PostgreSQL data base'

        - name: blog-worker1
          ipType: INTERNAL
          # This IP address must be within the subnet range.
          address: 10.128.0.10
          subnetwork: projects/env-test-00001/regions/southamerica-east1/subnetworks/blog-app-southamerica-east1
          region: southamerica-east1
          description: 'Static internal blog worker 1'

        - name: blog-worker2
          ipType: INTERNAL
          # This IP address must be within the subnet range.
          address: 10.128.0.11
          subnetwork: projects/env-test-00001/regions/southamerica-east1/subnetworks/blog-app-southamerica-east1
          region: southamerica-east1
          description: 'Static internal blog worker 2'

        - name: blog-worker3
          ipType: INTERNAL
          # This IP address must be within the subnet range.
          address: 10.128.0.12
          subnetwork: projects/env-test-00001/regions/southamerica-east1/subnetworks/blog-app-southamerica-east1
          region: southamerica-east1
          description: 'Static internal blog worker 3'

